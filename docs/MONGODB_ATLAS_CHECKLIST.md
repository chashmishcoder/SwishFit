# MongoDB Atlas Setup - Quick Checklist

## üìã Setup Steps

### 1. Create Account & Cluster
- [ ] Go to https://www.mongodb.com/cloud/atlas
- [ ] Sign up (use Google/GitHub for quick signup)
- [ ] Click "Build a Database"
- [ ] Select **FREE M0 Sandbox (512MB)**
- [ ] Choose cloud provider: **AWS**
- [ ] Select region: **Mumbai (ap-south-1)** for India
- [ ] Cluster name: `swishfit-production`
- [ ] Click "Create" and wait 1-3 minutes

### 2. Create Database User
- [ ] Go to "Database Access" in sidebar
- [ ] Click "Add New Database User"
- [ ] Username: `swishfit_admin`
- [ ] Click "Autogenerate Secure Password"
- [ ] **SAVE PASSWORD IMMEDIATELY** ‚Üê Very important!
- [ ] Select: "Read and write to any database"
- [ ] Click "Add User"

### 3. Configure Network Access
- [ ] Go to "Network Access" in sidebar
- [ ] Click "Add IP Address"
- [ ] Click "Allow Access from Anywhere"
- [ ] Adds: `0.0.0.0/0` (needed for Render/Vercel)
- [ ] Click "Confirm"

### 4. Get Connection String
- [ ] Go to "Database" in sidebar
- [ ] Click "Connect" on your cluster
- [ ] Select "Connect your application"
- [ ] Driver: **Node.js**, Version: **5.5 or later**
- [ ] Copy connection string
- [ ] Replace `<password>` with your actual password
- [ ] Add `/swishfit` before the `?`:
  ```
  mongodb+srv://swishfit_admin:PASSWORD@swishfit-production.xxxxx.mongodb.net/swishfit?retryWrites=true&w=majority
  ```

### 5. Test Connection Locally
```bash
cd backend

# Add connection string to .env temporarily:
echo "MONGODB_URI=your_connection_string_here" >> .env

# Run test script:
node scripts/testMongoAtlas.js
```

Expected output: "üéâ ALL TESTS PASSED! üéâ"

### 6. Save Connection String
- [ ] Save to password manager
- [ ] You'll need it for Render deployment
- [ ] **Never commit to Git!**

### 7. Verify Backups
- [ ] Go to cluster ‚Üí "Backup" tab
- [ ] Verify "Cloud Provider Snapshots" is enabled
- [ ] Optionally take manual snapshot

---

## üîí Important Information to Save

**MongoDB Atlas Credentials:**
```
Cluster Name: swishfit-production
Region: Mumbai (ap-south-1) or your choice
Username: swishfit_admin
Password: [Your autogenerated password]
Database Name: swishfit
```

**Connection String:**
```
mongodb+srv://swishfit_admin:[PASSWORD]@swishfit-production.xxxxx.mongodb.net/swishfit?retryWrites=true&w=majority
```

---

## ‚úÖ Verification Checklist

- [ ] MongoDB Atlas account created
- [ ] Cluster status shows "Active"
- [ ] Database user created with strong password
- [ ] Credentials saved securely
- [ ] Network access configured (0.0.0.0/0)
- [ ] Connection string obtained and modified
- [ ] Local connection test passed (all tests green)
- [ ] Connection string ready for deployment
- [ ] Automated backups verified

---

## üÜò Quick Troubleshooting

**Can't connect?**
1. Wait 2-3 minutes after cluster creation
2. Check network access includes 0.0.0.0/0
3. Verify password is correct (no typos)
4. Ensure connection string has `/swishfit` before `?`

**Authentication failed?**
1. Double-check username and password
2. Verify user has "Read and write" permission
3. Try URL encoding special characters in password

**Test script fails?**
1. Check `.env` file has MONGODB_URI set
2. Verify connection string format is correct
3. Ensure no extra spaces in connection string
4. Check internet connection

---

## üìö Detailed Documentation

For detailed step-by-step instructions with screenshots:
- See: `docs/MONGODB_ATLAS_SETUP.md`
- Or: `docs/DEPLOYMENT.md` (Section: MongoDB Atlas Setup)

---

## üéØ Next Steps

After completing MongoDB Atlas setup:

1. ‚úÖ Connection string saved securely
2. ‚úÖ Local connection test passed
3. ‚û°Ô∏è Proceed to **Task 3: Backend Deployment to Render**
4. You'll add the connection string to Render environment variables

---

## üí° Tips

- **Password:** Use autogenerated passwords (more secure)
- **Region:** Choose closest to your users for better performance
- **Monitoring:** Check Atlas dashboard regularly for usage stats
- **Backups:** M0 free tier includes basic backups
- **Upgrade:** Consider M10+ ($7/month) for production features

---

**Status:** Ready for deployment once all items are checked ‚úÖ
